{% extends 'dashboard.html' %}
{% load static %}

{% block head_assets %}
<link href="{% static 'seller_dashboard/styles.css' %}" rel="stylesheet">
<link href="{% static 'base/css/bootstrap.min.css' %}" rel="stylesheet">
<script src="{% static 'base/js/jquery3.4.1.js' %}"></script>
{% endblock %}

{% block top_nav %}
<nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">
  <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#">{% block company_title %}{{ user.get_username }}{% endblock %}</a>
  <ul class="navbar-nav px-3">
    <li class="nav-item text-nowrap">
      <a class="nav-link" href="{% url 'logout' %}">Sign Out</a>
    </li>
  </ul>
</nav>
{% endblock %}

{% block page_content %}
<div class="container-fluid">
  <div class="row">

    {% block side_nav %}
    <nav id="side-nav-dash" class="col-md-2 d-none d-md-block sidebar">
      <div class="sidebar-sticky">
        <ul class="nav flex-column">
          <li class="nav-item">
            <a class="nav-link" href="{% url 'seller_index' %}">
              Dashboard
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">
              Current Leads
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="{% url 'seller_inventory' %}">
              Visible Inventory
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">
              Current Matches
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">
              Reports
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">
              Place Ads
            </a>
          </li>
        </ul>
      </div>
      <footer class="bg-black small text-center text-black-50">
        <div class="container">
          Copyright &copy; Zephyrous LLC 2019
        </div>
      </footer>
    </nav>
    {% endblock %}

    {% block main_content %}

    <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">
      <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">Dealer Inventory</h1>
        <div class="btn-toolbar mb-2 mb-md-0">
            <div class="btn-group mr-2">
                <button type="button" class="btn btn-sm btn-outline-secondary">This Week</button>
                <button type="button" class="btn btn-sm btn-outline-secondary">This Month</button>
                <button type="button" class="btn btn-sm btn-outline-secondary">This Quarter</button>
                <button type="button" class="btn btn-sm btn-outline-secondary">Cust. Stats</button>
            </div>
                <button type="button" class="btn btn-sm btn-outline-secondary">Export</button>
            </div>
        </div>

      <div id="vin-decode">
        <div class="input-group mb-3">
          <input id="vin-entry" type="text" class="form-control" placeholder="Enter VIN" aria-label="Enter VIN">
          <div class="input-group-append">
            <button id="vin-decode-button" class="input-group-text">Decode VIN</button>
          </div>
        </div>
      </div>

      <h3>Potential Inventory</h3>
      <div class="table-responsive">
        <table id="potential-inventory" class="table table-striped table-sm table-dark table-hover">
          <thead>
            <th>VIN</th>
            <th>Make</th>
            <th>Model</th>
            <th>Series</th>
            <th>Year</th>
            <th>Trim</th>
            <th>Cylinders</th>
            <th><button id="send-vehicles-button" class='btn btn-sm btn-light'>Add Vehicles</button></th>
          </thead>
          <tbody id="potential-inventory-body">

          </tbody>
        </table>
      </div>

      <h2>Visible Inventory</h2>
      <div class="table-responsive">
        <table id="visible-inventory" class="table table-striped table-sm table-dark table-hover">
          <thead>
            <tr>
              <th>VIN</th>
              <th>Make</th>
              <th>Model</th>
              <th>Year</th>
              <th>Views</th>
            </tr>
          </thead>
          <tbody>
              {% for vehicle in seller_inventory %}
              <tr>
                  <td>{{ vehicle.vin }}</td>
                  <td>{{ vehicle.make }}</td>
                  <td>{{ vehicle.model }}</td>
                  <td>{{ vehicle.year }}</td>
                  <td>--Need #'s--</td>
                  <td>
                    <button type="button" class="btn btn-sm btn-outline-secondary">View</button>
                  </td>
              </tr>
              {% empty %}
              <tr><td>No Inventory Found....</td></tr>
              {% endfor %}
          </tbody>
        </table>
      </div>
    </main>
    {% endblock %}
  </div>
</div>
{% endblock %}

{% block final_assets %}
  <script src="{% static 'seller_dashboard/seller.js' %}"></script>
{% endblock %}